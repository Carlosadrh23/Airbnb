<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homeaway - Confirma tu dirección</title>
    <link rel="stylesheet" href="../assets/styles.css">
</head>

<body class="pagina-tipo-propiedad">
    <div class="seccion-izquierda">
        <div class="logo-container">
            <img src="../assets/img/Logo_blanco.png" alt="HomeAway Logo" class="logo-login">
        </div>
    </div>

    <div class="container container-direccion paso-2">
        <button class="back-button" onclick="window.location.href='Anfitrion1.html'">←</button>

        <h1 class="titulo-direccion">Confirma tu dirección</h1>
        <p class="subtitle subtitle-direccion">Solo compartiremos la dirección con los huéspedes después de que hayan hecho la reservación.</p>

        <form class="form-direccion" id="formDireccion">
            <div class="grupo-input">
                <label class="label-input">Región *</label>
                <input type="text" class="input-field" name="region" id="region" placeholder="La paz - MX" required>
            </div>

            <div class="grupo-input">
                <label class="label-input">Dirección *</label>
                <input type="text" class="input-field" name="direccion" id="direccion" placeholder="Sonora" required>
            </div>

            <div class="grupo-input">
                <label class="label-input">Departamento, habitación, etc. (si corresponde)</label>
                <input type="text" class="input-field" name="departamento" id="departamento" placeholder="Departamento, habitación, etc.">
            </div>

            <div class="grupo-input">
                <label class="label-input">Zona (si corresponde)</label>
                <input type="text" class="input-field" name="zona" id="zona" placeholder="Zona">
            </div>

            <div class="grupo-input">
                <label class="label-input">Código postal *</label>
                <input type="text" class="input-field" name="codigoPostal" id="codigoPostal" placeholder="Código postal" maxlength="5" required>
            </div>

            <div class="grupo-input">
                <label class="label-input">Ciudad / municipio *</label>
                <input type="text" class="input-field" name="ciudad" id="ciudad" placeholder="La paz" required>
            </div>

            <div class="grupo-input">
                <label class="label-input">Estado *</label>
                <input type="text" class="input-field" name="estado" id="estado" placeholder="Baja California sur" required>
            </div>

            <button type="submit" class="boton-siguiente">Siguiente</button>
        </form>
    </div>

    <script src="../assets/javascript/main.js"></script>
    <script src="../assets/javascript/RegistroAnfitrion.js"></script>
    <script>
        document.getElementById('formDireccion').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Obtener valores y limpiar espacios
            const region = document.getElementById('region').value.trim();
            const direccion = document.getElementById('direccion').value.trim();
            const codigoPostal = document.getElementById('codigoPostal').value.trim();
            const ciudad = document.getElementById('ciudad').value.trim();
            const estado = document.getElementById('estado').value.trim();
            
            // Validar que los campos obligatorios no estén vacíos
            if (!region) {
                alert('Por favor ingresa la región');
                document.getElementById('region').focus();
                return;
            }
            
            if (!direccion) {
                alert('Por favor ingresa la dirección');
                document.getElementById('direccion').focus();
                return;
            }
            
            if (!codigoPostal) {
                alert('Por favor ingresa el código postal');
                document.getElementById('codigoPostal').focus();
                return;
            }
            
            // Validar que el código postal sea numérico y tenga 5 dígitos
            if (!/^\d{5}$/.test(codigoPostal)) {
                alert('El código postal debe tener 5 dígitos');
                document.getElementById('codigoPostal').focus();
                return;
            }
            
            if (!ciudad) {
                alert('Por favor ingresa la ciudad o municipio');
                document.getElementById('ciudad').focus();
                return;
            }
            
            if (!estado) {
                alert('Por favor ingresa el estado');
                document.getElementById('estado').focus();
                return;
            }
            
            // Redirigir si todas las validaciones pasan
            console.log('Formulario válido, redirigiendo...');
            window.location.href = 'PrecioXNoche.html';
        });
        
        // Validar números en el código postal
        document.getElementById('codigoPostal').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
        });
    </script>
</body>
</html>